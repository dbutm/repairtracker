
<div ng-controller="tableCustomersCtrl" id="table" >



    <table st-table="displayedCollection"  st-safe-src="rowCollection" class="table table-striped"> <!----remember display and st-dafe when updating ---->
        <thead>
        <tr>
            <th st-sort="first_name">first name</th>
            <th st-sort="last_name" >last name</th>
            <th>email</th>
            <th>DOB</th>
            <th>address</th>
            <th>address 1</th>
            <th>mobile tel</th>
            <th>mobile tel 1</th>
            <th>home tel</th>

        </tr>
        <tr>
            <th>
                <input st-search="first_name" placeholder="search for first name" class="input-sm form-control" type="search"/>
            </th>
            <th>
                <input st-search="last_name" placeholder="search for last name" class="input-sm form-control" type="search"/>
            </th>
            <th>
                <input st-search="email" placeholder="search for email" class="input-sm form-control" type="search"/>
            </th>
            <th>
                <!----no search for dob--->
            </th>
            <th>
                <input st-search="address" class="input-sm form-control" type="search"  placeholder="search for address "/>
            </th>
            <th>
                <input st-search="address_1" class="input-sm form-control" type="search"  placeholder="search for address 1"/>
            </th>
            <th>
                <input st-search="mobile_tel" placeholder="search for mobile tel" class="input-sm form-control" type="search"/>
            </th>
            <th>
                <input st-search="mobile_tel_1" placeholder="search for mobile tel 1" class="input-sm form-control" type="search"/>
            </th>
            <th>
                <input st-search="phone_tel" placeholder="search for phone tel" class="input-sm form-control" type="search"/>
            </th>
        </tr>
        </thead>

        <tbody >
        <tr ng-repeat="row in displayedCollection">
            <td >{{row.first_name}}</td>
            <td >{{row.last_name}}</td>
            <td>{{row.email}}</td>
            <td>{{row.date_of_birth}}</td>
            <td >{{row.address}}</td>
            <td>{{row.address_1}}</td>
            <td >{{row.mobile_tel}}</td>
            <td >{{row.mobile_tel_1}}</td>
            <td>{{row.home_tel}}</td>
            <td>
                <a ui-sref="app.create-ticket({customerId:row.id})" class="btn btn-sm btn-info"  >
                    <i class="glyphicon glyphicon-plus-sign">Ticket</i>
                </a>
            </td>
            <td>
                <a ui-sref="app.customer.update({customerId:row.id})" class="btn btn-sm btn-warning"  >
                    <i class="glyphicon  glyphicon-edit">edit</i>
               </a>
            </td>
            <td>
                <!---store rowId so as to be able to delete customer from Db, firstName and lastName to so as to display it in confirm delete popup--->
                <a ng-click="deleteBtn(row.id,row.first_name,row.last_name)" class="btn btn-sm btn-danger"  >
                    <i class="glyphicon  glyphicon-remove-circle">delete</i>
                </a>
            </td>
        </tr>
        </tbody>

    </table>

</div>